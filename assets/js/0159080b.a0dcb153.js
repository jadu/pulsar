"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2766],{9916:(e,t,a)=>{a.d(t,{xA:()=>m,yg:()=>g});var n=a(3696);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),c=u(a),d=r,g=c["".concat(s,".").concat(d)]||c[d]||p[d]||l;return a?n.createElement(g,o(o({ref:t},m),{},{components:a})):n.createElement(g,o({ref:t},m))}));function g(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:r,o[1]=i;for(var u=2;u<l;u++)o[u]=a[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},5589:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(3696),r=a(8017);const l={tabItem:"tabItem_wHwb"};function o(e){let{children:t,hidden:a,className:o}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.A)(l.tabItem,o),hidden:a},t)}},2752:(e,t,a)=>{a.d(t,{A:()=>w});var n=a(8102),r=a(3696),l=a(8017),o=a(766),i=a(9519),s=a(5043),u=a(4544),m=a(8708);function c(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function p(e){const{values:t,children:a}=e;return(0,r.useMemo)((()=>{const e=t??c(a);return function(e){const t=(0,u.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function d(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function g(e){let{queryString:t=!1,groupId:a}=e;const n=(0,i.W6)(),l=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,s.aZ)(l),(0,r.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(n.location.search);t.set(l,e),n.replace({...n.location,search:t.toString()})}),[l,n])]}function y(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,l=p(e),[o,i]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!d({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:l}))),[s,u]=g({queryString:a,groupId:n}),[c,y]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,l]=(0,m.Dv)(a);return[n,(0,r.useCallback)((e=>{a&&l.set(e)}),[a,l])]}({groupId:n}),f=(()=>{const e=s??c;return d({value:e,tabValues:l})?e:null})();(0,r.useLayoutEffect)((()=>{f&&i(f)}),[f]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!d({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),y(e)}),[u,y,l]),tabValues:l}}var f=a(6681);const b={tabList:"tabList_J5MA",tabItem:"tabItem_l0OV"};function h(e){let{className:t,block:a,selectedValue:i,selectValue:s,tabValues:u}=e;const m=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.a_)(),p=e=>{const t=e.currentTarget,a=m.indexOf(t),n=u[a].value;n!==i&&(c(t),s(n))},d=e=>{let t=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const a=m.indexOf(e.currentTarget)+1;t=m[a]??m[0];break}case"ArrowLeft":{const a=m.indexOf(e.currentTarget)-1;t=m[a]??m[m.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":a},t)},u.map((e=>{let{value:t,label:a,attributes:o}=e;return r.createElement("li",(0,n.A)({role:"tab",tabIndex:i===t?0:-1,"aria-selected":i===t,key:t,ref:e=>m.push(e),onKeyDown:d,onClick:p},o,{className:(0,l.A)("tabs__item",b.tabItem,o?.className,{"tabs__item--active":i===t})}),a??t)})))}function v(e){let{lazy:t,children:a,selectedValue:n}=e;const l=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},l.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function N(e){const t=y(e);return r.createElement("div",{className:(0,l.A)("tabs-container",b.tabList)},r.createElement(h,(0,n.A)({},e,t)),r.createElement(v,(0,n.A)({},e,t)))}function w(e){const t=(0,f.A)();return r.createElement(N,(0,n.A)({key:String(t)},e))}},4638:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>s,default:()=>g,frontMatter:()=>i,metadata:()=>u,toc:()=>c});var n=a(8102),r=(a(3696),a(9916)),l=a(2752),o=a(5589);const i={id:"creating-a-form",title:"Creating a form",sidebar_label:"Creating a form",sidebar_position:1},s=void 0,u={unversionedId:"forms/creating-a-form",id:"forms/creating-a-form",title:"Creating a form",description:"A form is a collection of inputs that allow users to create and edit 'things' within the Jadu platform. Pulsar forms provide consistent styling as well as sensible defaults so that developers can quickly compose useful, accessible forms.",source:"@site/docs/forms/creating-a-form.mdx",sourceDirName:"forms",slug:"/forms/creating-a-form",permalink:"/pulsar/docs/forms/creating-a-form",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"creating-a-form",title:"Creating a form",sidebar_label:"Creating a form",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Forms",permalink:"/pulsar/docs/category/forms"},next:{title:"Button Group",permalink:"/pulsar/docs/forms/button-group"}},m={},c=[{value:"Basic usage",id:"basic-usage",level:2},{value:"Helper options",id:"helper-options",level:2},{value:"Enctype",id:"enctype",level:2},{value:"Using PUT",id:"using-put",level:2},{value:"CSRF protection",id:"csrf-protection",level:2},{value:"Form actions",id:"form-actions",level:2},{value:"Alignment",id:"alignment",level:3}],p={toc:c},d="wrapper";function g(e){let{components:t,...a}=e;return(0,r.yg)(d,(0,n.A)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"A form is a collection of inputs that allow users to create and edit 'things' within the Jadu platform. Pulsar forms provide consistent styling as well as sensible defaults so that developers can quickly compose useful, accessible forms."),(0,r.yg)("p",null,"The Forms section lists all of the currently supported inputs, these should be placed within a suitable form element which can be created using the helper elements listed here."),(0,r.yg)("h2",{id:"basic-usage"},"Basic usage"),(0,r.yg)(l.A,{groupID:"example",defaultValue:"twig",values:[{label:"Twig",value:"twig"},{label:"React",value:"react"},{label:"HTML",value:"html"}],mdxType:"Tabs"},(0,r.yg)(o.A,{value:"twig",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-twig"},"{{ form.create() }}\n    ...\n{{\n  form.end({\n    'actions': [\n      form.submit({\n        'class': 'btn--primary',\n        'label': 'Primary Action'\n      }),\n      html.button({\n        'class': 'btn--naked',\n        'type': 'link',\n        'label': 'Cancel',\n        'href': '#home'\n      })\n    ]\n  })\n}}\n"))),(0,r.yg)(o.A,{value:"react",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-jsx"},'<Form>\n  ...\n  <FormActions>\n    <Button type="submit" className="btn--primary">Primary Action</Button>\n    <Button type="link" href="/path/to/cancel" className="btn--naked">Cancel</Button>\n  </FormActions>\n</Form>\n'))),(0,r.yg)(o.A,{value:"html",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-html"},'<form method="POST" enctype="application/x-www-form-urlencoded" class="form">\n  ...\n  <div class="form__actions">\n    <button type="submit" class="btn btn--primary">Primary Action</button>\n    <a href="#home" class="btn btn--naked">Cancel</a>\n  </div>\n</form>\n')))),(0,r.yg)("h2",{id:"helper-options"},"Helper options"),(0,r.yg)("p",null,"You can configure this helper using the common helper options, the following options are specific to this helper."),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Option"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"action"),(0,r.yg)("td",{parentName:"tr",align:null},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"URL to post to, will submit to self if empty")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"class"),(0,r.yg)("td",{parentName:"tr",align:null},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"A space separated list of class names")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"enctype"),(0,r.yg)("td",{parentName:"tr",align:null},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"How the form-data should be encoded (requires method = POST)")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"id"),(0,r.yg)("td",{parentName:"tr",align:null},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"A unique identifier, if required")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"name"),(0,r.yg)("td",{parentName:"tr",align:null},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"The name of the form")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"nonce"),(0,r.yg)("td",{parentName:"tr",align:null},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"Random string used to prevent CSRF, adds a hidden ",(0,r.yg)("inlineCode",{parentName:"td"},"nonce")," input after ",(0,r.yg)("inlineCode",{parentName:"td"},"form"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"method"),(0,r.yg)("td",{parentName:"tr",align:null},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"The HTTP method to be used to submit the form")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"data-*"),(0,r.yg)("td",{parentName:"tr",align:null},"string"),(0,r.yg)("td",{parentName:"tr",align:null},"Data attributes, eg: ",(0,r.yg)("inlineCode",{parentName:"td"},"'data-foo': 'bar'"))))),(0,r.yg)("h2",{id:"enctype"},"Enctype"),(0,r.yg)("p",null,"The ",(0,r.yg)("inlineCode",{parentName:"p"},"enctype")," attribute will be set to ",(0,r.yg)("inlineCode",{parentName:"p"},"application/x-www-form-encoded")," by default unless you\u2019re using a method other than ",(0,r.yg)("inlineCode",{parentName:"p"},"POST"),"."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-html"},'<form method="POST" encype="application/x-www-form-urlencoded" class="form">\n')),(0,r.yg)("h2",{id:"using-put"},"Using PUT"),(0,r.yg)("p",null,"If you specify ",(0,r.yg)("inlineCode",{parentName:"p"},"PUT")," as the method in Twig or React, then a hidden input will be created automatically after the ",(0,r.yg)("inlineCode",{parentName:"p"},"form")," element, and the ",(0,r.yg)("inlineCode",{parentName:"p"},"method")," attribute on the form element will be set to ",(0,r.yg)("inlineCode",{parentName:"p"},"POST"),"."),(0,r.yg)(l.A,{groupID:"example",defaultValue:"twig",values:[{label:"Twig",value:"twig"},{label:"React",value:"react"},{label:"HTML",value:"html"}],mdxType:"Tabs"},(0,r.yg)(o.A,{value:"twig",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-twig"},"{{\n  form.create({\n    'method': 'PUT'\n  })\n}}\n  ...\n{{ form.end() }}\n"))),(0,r.yg)(o.A,{value:"react",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-jsx"},'<Form method="PUT">\n  ...\n</Form>\n'))),(0,r.yg)(o.A,{value:"html",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-html"},'<form method="POST" enctype="application/x-www-form-urlencoded" class="form">\n  <input name="_method" value="PUT" type="hidden" />\n  ...\n</form>\n')))),(0,r.yg)("h2",{id:"csrf-protection"},"CSRF protection"),(0,r.yg)("p",null,"Supply a ",(0,r.yg)("inlineCode",{parentName:"p"},"nonce")," and it will be added as a hidden input after the opening form element."),(0,r.yg)(l.A,{groupID:"example",defaultValue:"twig",values:[{label:"Twig",value:"twig"},{label:"React",value:"react"},{label:"HTML",value:"html"}],mdxType:"Tabs"},(0,r.yg)(o.A,{value:"twig",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-twig"},"{{\n  form.create({\n    'nonce': 'D2A619A309DCE1BEF50F01F08EB764B42D9B36BF8128A8D303FD6DCF91E5FDD6'\n  })\n}}\n  ...\n{{ form.end() }}\n"))),(0,r.yg)(o.A,{value:"react",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-jsx"},'<Form nonce="D2A619A309DCE1BEF50F01F08EB764B42D9B36BF8128A8D303FD6DCF91E5FDD6">\n  ...\n</Form>\n'))),(0,r.yg)(o.A,{value:"html",mdxType:"TabItem"},(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-html"},'<form method="POST" enctype="application/x-www-form-urlencoded" class="form">\n  <input name="nonce" value="D2A619A309DCE1BEF50F01F08EB764B42D9B36BF8128A8D303FD6DCF91E5FDD6" type="hidden" />\n  ...\n</form>\n')))),(0,r.yg)("h2",{id:"form-actions"},"Form actions"),(0,r.yg)("p",null,"You need to provide a way for the user to submit the form, and ideally a way to cancel what they\u2019re doing and return to where they started. "),(0,r.yg)("p",null,"The first button in the form actions will usually be the submit button and be a primary button in most cases."),(0,r.yg)("div",{className:"d-example"},(0,r.yg)("form",{method:"POST",encType:"application/x-www-form-urlencoded",className:"form"},(0,r.yg)("div",{className:"form__actions"},(0,r.yg)("button",{type:"submit",className:"btn btn--primary"},"Primary Action"),(0,r.yg)("a",{href:"#home",className:"btn btn--naked"},"Cancel")))),(0,r.yg)("h3",{id:"alignment"},"Alignment"),(0,r.yg)("p",null,"Form actions are normally positioned so they\u2019re inline with the form controls above them."),(0,r.yg)("p",null,"If the form is editing an existing \u2018thing\u2019 rather than creating something new then you may also want to provide a delete action, use the ",(0,r.yg)("inlineCode",{parentName:"p"},"u-float-right")," utility class to move this to the right hand side."),(0,r.yg)("div",{className:"d-example"},(0,r.yg)("form",{method:"POST",encType:"application/x-www-form-urlencoded",className:"form"},(0,r.yg)("div",{className:"form__group"},(0,r.yg)("label",{htmlFor:"example",className:"control__label"},"Example"),(0,r.yg)("div",{className:"controls"},(0,r.yg)("input",{id:"example",name:"example",type:"text",className:"form__control"}))),(0,r.yg)("div",{className:"form__actions"},(0,r.yg)("button",{type:"submit",className:"btn btn--primary"},"Primary Action"),(0,r.yg)("a",{href:"#home",className:"btn btn--naked"},"Cancel"),(0,r.yg)("button",{className:"btn btn--danger u-float-right"},"Delete")))),(0,r.yg)("p",null,"You can make the actions align to the left hand edge of a form by adding the ",(0,r.yg)("inlineCode",{parentName:"p"},".form__actions--flush")," class."),(0,r.yg)("div",{className:"d-example"},(0,r.yg)("form",{method:"POST",encType:"application/x-www-form-urlencoded",className:"form"},(0,r.yg)("div",{className:"form__group"},(0,r.yg)("label",{htmlFor:"example",className:"control__label"},"Example"),(0,r.yg)("div",{className:"controls"},(0,r.yg)("input",{id:"example",name:"example",type:"text",className:"form__control"}))),(0,r.yg)("div",{className:"form__actions form__actions--flush"},(0,r.yg)("button",{type:"submit",className:"btn btn--primary"},"Primary Action"),(0,r.yg)("a",{href:"#home",className:"btn btn--naked"},"Cancel"),(0,r.yg)("button",{className:"btn btn--danger u-float-right"},"Delete")))))}g.isMDXComponent=!0}}]);