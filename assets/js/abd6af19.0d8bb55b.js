"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9711],{9916:(e,t,n)=>{n.d(t,{xA:()=>c,yg:()=>m});var r=n(3696);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=u(n),f=a,m=d["".concat(s,".").concat(f)]||d[f]||p[f]||l;return n?r.createElement(m,i(i({ref:t},c),{},{components:n})):r.createElement(m,i({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=f;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[d]="string"==typeof e?e:a,i[1]=o;for(var u=2;u<l;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},5589:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(3696),a=n(8017);const l={tabItem:"tabItem_wHwb"};function i(e){let{children:t,hidden:n,className:i}=e;return r.createElement("div",{role:"tabpanel",className:(0,a.A)(l.tabItem,i),hidden:n},t)}},2752:(e,t,n)=>{n.d(t,{A:()=>T});var r=n(8102),a=n(3696),l=n(8017),i=n(766),o=n(9519),s=n(5043),u=n(4544),c=n(8708);function d(e){return function(e){return a.Children.map(e,(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}function p(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=t??d(n);return function(e){const t=(0,u.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function f(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const r=(0,o.W6)(),l=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s.aZ)(l),(0,a.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(r.location.search);t.set(l,e),r.replace({...r.location,search:t.toString()})}),[l,r])]}function b(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,l=p(e),[i,o]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!f({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:l}))),[s,u]=m({queryString:n,groupId:r}),[d,b]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,l]=(0,c.Dv)(n);return[r,(0,a.useCallback)((e=>{n&&l.set(e)}),[n,l])]}({groupId:r}),g=(()=>{const e=s??d;return f({value:e,tabValues:l})?e:null})();(0,a.useLayoutEffect)((()=>{g&&o(g)}),[g]);return{selectedValue:i,selectValue:(0,a.useCallback)((e=>{if(!f({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),b(e)}),[u,b,l]),tabValues:l}}var g=n(6681);const h={tabList:"tabList_J5MA",tabItem:"tabItem_l0OV"};function y(e){let{className:t,block:n,selectedValue:o,selectValue:s,tabValues:u}=e;const c=[],{blockElementScrollPositionUntilNextRender:d}=(0,i.a_)(),p=e=>{const t=e.currentTarget,n=c.indexOf(t),r=u[n].value;r!==o&&(d(t),s(r))},f=e=>{let t=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;t=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;t=c[n]??c[c.length-1];break}}t?.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":n},t)},u.map((e=>{let{value:t,label:n,attributes:i}=e;return a.createElement("li",(0,r.A)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>c.push(e),onKeyDown:f,onClick:p},i,{className:(0,l.A)("tabs__item",h.tabItem,i?.className,{"tabs__item--active":o===t})}),n??t)})))}function v(e){let{lazy:t,children:n,selectedValue:r}=e;const l=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===r));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},l.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==r}))))}function w(e){const t=b(e);return a.createElement("div",{className:(0,l.A)("tabs-container",h.tabList)},a.createElement(y,(0,r.A)({},e,t)),a.createElement(v,(0,r.A)({},e,t)))}function T(e){const t=(0,g.A)();return a.createElement(w,(0,r.A)({key:String(t)},e))}},3946:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>u,toc:()=>d});var r=n(8102),a=(n(3696),n(9916)),l=n(2752),i=n(5589);const o={id:"filter-bar",title:"Filter Bar",sidebar_label:"Filter Bar"},s=void 0,u={unversionedId:"patterns/filter-bar",id:"patterns/filter-bar",title:"Filter Bar",description:"The filter bar pattern allows you to build up a list of filters to be applied to a UI. Commonly used to filter tabular data as an alternative to displaying a potentially large form.",source:"@site/docs/patterns/filter-bar.mdx",sourceDirName:"patterns",slug:"/patterns/filter-bar",permalink:"/pulsar/docs/patterns/filter-bar",draft:!1,tags:[],version:"current",frontMatter:{id:"filter-bar",title:"Filter Bar",sidebar_label:"Filter Bar"},sidebar:"tutorialSidebar",previous:{title:"Disabled UI",permalink:"/pulsar/docs/patterns/disabled-ui"},next:{title:"Integrations",permalink:"/pulsar/docs/patterns/integrations"}},c={},d=[{value:"Dependencies",id:"dependencies",level:2},{value:"Basic usage",id:"basic-usage",level:2},{value:"Setting initial state",id:"setting-initial-state",level:2}],p={toc:d},f="wrapper";function m(e){let{components:t,...o}=e;return(0,a.yg)(f,(0,r.A)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("p",null,"The filter bar pattern allows you to build up a list of filters to be applied to a UI. Commonly used to filter tabular data as an alternative to displaying a potentially large form."),(0,a.yg)("p",null,(0,a.yg)("img",{alt:"Screenshot showing filterbar interaction",src:n(6523).A,width:"1024",height:"634"})),(0,a.yg)("h2",{id:"dependencies"},"Dependencies"),(0,a.yg)("p",null,"You will need the ",(0,a.yg)("inlineCode",{parentName:"p"},"FilterBarComponent")," to be included in your browserify configuration."),(0,a.yg)("p",null,"Depending on your setup, this will probably need to be in be in a file called ",(0,a.yg)("inlineCode",{parentName:"p"},"index.js")," or ",(0,a.yg)("inlineCode",{parentName:"p"},"main.js"),"."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js",metastring:'title="index.js"',title:'"index.js"'},"var FilterBarComponent = require('/path/to/pulsar/FilterBarComponent');\n\nmodule.exports = {\n  FilterBarComponent: FilterBarComponent\n}\n")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js",metastring:"main.js","main.js":!0},"var $html = $('html');\n\npulsar.filterBar = new pulsar.FilterBarComponent($html);\n\n$(function () {\n  pulsar.filterBar.init();\n});\n")),(0,a.yg)("h2",{id:"basic-usage"},"Basic usage"),(0,a.yg)("p",null,"At it\u2019s core, the filterbar is a regular hidden form which is processed by the FilterBarComponent to turn it into the interactive filter bar. This hidden form should be wrapped with a containing ",(0,a.yg)("inlineCode",{parentName:"p"},'<div class="filter-bar display--none">'),"."),(0,a.yg)("p",null,"To trigger the opening of the filter bar, you should add a 'new filter' item to the actions dropdown menu."),(0,a.yg)("admonition",{type:"warning"},(0,a.yg)("p",{parentName:"admonition"},"There should only be one filter bar within a given UI, although there could be multiple filter bars on different tabs.")),(0,a.yg)(l.A,{groupID:"example",defaultValue:"twig",values:[{label:"Twig",value:"twig"}],mdxType:"Tabs"},(0,a.yg)(i.A,{value:"twig",mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-twig"},"<section class=\"actionsbar\" aria-label=\"page actions\">\n  <div class=\"float--left\">\n    {{\n      html.actions_menu({\n        'items': [\n          [\n            {\n              'label': 'New Filter',\n              'href': '#',\n              'icon': 'filter',\n              'data-ui': 'show-filter-bar'\n            }\n          ]\n        ]\n      })\n    }}\n  </div>\n</section>\n\n<div class=\"filter-bar display--none\">\n  {{ form.create() }}\n    {{ form.fieldset_start({'legend': 'Filter by'}) }}\n\n    {{\n      form.select2({\n        'label': 'Colour',\n        'id': 'colour',\n        'multiple': true,\n        'placeholder': 'Choose one or more',\n        'options': {\n          'colour_red': 'Red',\n          'colour_blue': 'Blue'\n        }\n      })\n    }}\n\n    {{\n      form.select2({\n        'label': 'Size',\n        'id': 'size',\n        'placeholder': 'Choose one',\n        'options': {\n          'small': 'Small',\n          'medium': 'Medium',\n          'large': 'Large'\n        }\n      })\n    }}\n\n    {{\n      form.text({\n        'label': 'Text field example',\n        'id': 'foo'\n      })\n    }}\n\n    {{\n      form.date({\n        'label': 'Added from',\n        'id': 'addedFrom',\n      })\n    }}\n\n    {{\n      form.date({\n        'label': 'Added to',\n        'id': 'addedTo'\n      })\n    }}\n\n    {{\n      form.checkbox({\n        'label': 'In stock',\n        'id': 'inStock'\n      })\n    }}\n\n  {{ form.fieldset_end() }}\n  {{\n    form.end({\n      'actions': [\n        form.submit({\n          'label': 'Save',\n          'class': 'btn--primary'\n        }),\n        html.link({\n          'label': 'Clear',\n          'class': 'btn btn--naked',\n          'href': '#',\n          'data-ui': 'clear-all-filters'\n        })\n      ]\n    })\n  }}\n\n</div>\n")))),(0,a.yg)("h2",{id:"setting-initial-state"},"Setting initial state"),(0,a.yg)("p",null,"There may be situations where you need to pre-populate and display the filter bar on page load. The filter bar will automatically do that if the filter form fields have values or selected options."),(0,a.yg)("p",null,"It\u2019s worth noting that any select elements in the filter form will need to have an empty first option to prevent the filter bar taking the first option as a selected option. This also applies when using the select2 helper, see the example below:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-twig"},"{{\n  form.select2({\n    'label': 'Size',\n    'id': 'size',\n    'placeholder': 'Choose one',\n    'options': {\n      '': '',\n      'small': 'Small',\n      'medium': 'Medium',\n      'large': 'Large'\n    }\n  })\n}}\n")))}m.isMDXComponent=!0},6523:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/filterbar-2edb9b33765d25ce02e0ec051b01e4c0.gif"}}]);