"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3206],{9916:(e,r,t)=>{t.d(r,{xA:()=>m,yg:()=>y});var a=t(3696);function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r){if(null==e)return{};var t,a,n=function(e,r){if(null==e)return{};var t,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var i=a.createContext({}),u=function(e){var r=a.useContext(i),t=r;return e&&(t="function"==typeof e?e(r):o(o({},r),e)),t},m=function(e){var r=u(e.components);return a.createElement(i.Provider,{value:r},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var r=e.children;return a.createElement(a.Fragment,{},r)}},d=a.forwardRef((function(e,r){var t=e.components,n=e.mdxType,l=e.originalType,i=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),c=u(t),d=n,y=c["".concat(i,".").concat(d)]||c[d]||p[d]||l;return t?a.createElement(y,o(o({ref:r},m),{},{components:t})):a.createElement(y,o({ref:r},m))}));function y(e,r){var t=arguments,n=r&&r.mdxType;if("string"==typeof e||n){var l=t.length,o=new Array(l);o[0]=d;var s={};for(var i in r)hasOwnProperty.call(r,i)&&(s[i]=r[i]);s.originalType=e,s[c]="string"==typeof e?e:n,o[1]=s;for(var u=2;u<l;u++)o[u]=t[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},5589:(e,r,t)=>{t.d(r,{A:()=>o});var a=t(3696),n=t(8017);const l={tabItem:"tabItem_wHwb"};function o(e){let{children:r,hidden:t,className:o}=e;return a.createElement("div",{role:"tabpanel",className:(0,n.A)(l.tabItem,o),hidden:t},r)}},2752:(e,r,t)=>{t.d(r,{A:()=>w});var a=t(8102),n=t(3696),l=t(8017),o=t(766),s=t(9519),i=t(5043),u=t(4544),m=t(8708);function c(e){return function(e){return n.Children.map(e,(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:r,label:t,attributes:a,default:n}}=e;return{value:r,label:t,attributes:a,default:n}}))}function p(e){const{values:r,children:t}=e;return(0,n.useMemo)((()=>{const e=r??c(t);return function(e){const r=(0,u.X)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,t])}function d(e){let{value:r,tabValues:t}=e;return t.some((e=>e.value===r))}function y(e){let{queryString:r=!1,groupId:t}=e;const a=(0,s.W6)(),l=function(e){let{queryString:r=!1,groupId:t}=e;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:r,groupId:t});return[(0,i.aZ)(l),(0,n.useCallback)((e=>{if(!l)return;const r=new URLSearchParams(a.location.search);r.set(l,e),a.replace({...a.location,search:r.toString()})}),[l,a])]}function g(e){const{defaultValue:r,queryString:t=!1,groupId:a}=e,l=p(e),[o,s]=(0,n.useState)((()=>function(e){let{defaultValue:r,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!d({value:r,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${r}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return r}const a=t.find((e=>e.default))??t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:r,tabValues:l}))),[i,u]=y({queryString:t,groupId:a}),[c,g]=function(e){let{groupId:r}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(r),[a,l]=(0,m.Dv)(t);return[a,(0,n.useCallback)((e=>{t&&l.set(e)}),[t,l])]}({groupId:a}),f=(()=>{const e=i??c;return d({value:e,tabValues:l})?e:null})();(0,n.useLayoutEffect)((()=>{f&&s(f)}),[f]);return{selectedValue:o,selectValue:(0,n.useCallback)((e=>{if(!d({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);s(e),u(e),g(e)}),[u,g,l]),tabValues:l}}var f=t(6681);const b={tabList:"tabList_J5MA",tabItem:"tabItem_l0OV"};function h(e){let{className:r,block:t,selectedValue:s,selectValue:i,tabValues:u}=e;const m=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.a_)(),p=e=>{const r=e.currentTarget,t=m.indexOf(r),a=u[t].value;a!==s&&(c(r),i(a))},d=e=>{let r=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const t=m.indexOf(e.currentTarget)+1;r=m[t]??m[0];break}case"ArrowLeft":{const t=m.indexOf(e.currentTarget)-1;r=m[t]??m[m.length-1];break}}r?.focus()};return n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":t},r)},u.map((e=>{let{value:r,label:t,attributes:o}=e;return n.createElement("li",(0,a.A)({role:"tab",tabIndex:s===r?0:-1,"aria-selected":s===r,key:r,ref:e=>m.push(e),onKeyDown:d,onClick:p},o,{className:(0,l.A)("tabs__item",b.tabItem,o?.className,{"tabs__item--active":s===r})}),t??r)})))}function v(e){let{lazy:r,children:t,selectedValue:a}=e;const l=(Array.isArray(t)?t:[t]).filter(Boolean);if(r){const e=l.find((e=>e.props.value===a));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return n.createElement("div",{className:"margin-top--md"},l.map(((e,r)=>(0,n.cloneElement)(e,{key:r,hidden:e.props.value!==a}))))}function N(e){const r=g(e);return n.createElement("div",{className:(0,l.A)("tabs-container",b.tabList)},n.createElement(h,(0,a.A)({},e,r)),n.createElement(v,(0,a.A)({},e,r)))}function w(e){const r=(0,f.A)();return n.createElement(N,(0,a.A)({key:String(r)},e))}},1249:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>m,contentTitle:()=>i,default:()=>y,frontMatter:()=>s,metadata:()=>u,toc:()=>c});var a=t(8102),n=(t(3696),t(9916)),l=t(2752),o=t(5589);const s={id:"error-summary",title:"Error summary",sidebar_label:"Error summary"},i=void 0,u={unversionedId:"forms/error-summary",id:"forms/error-summary",title:"Error summary",description:"When form validation fails it is important to display a list of all errors near the top of the page and link to the affected fields. This summary is especially important for people using assistive technology to make sure their tools announce the presence of errors as soon as possible.",source:"@site/docs/forms/error-summary.mdx",sourceDirName:"forms",slug:"/forms/error-summary",permalink:"/pulsar/docs/forms/error-summary",draft:!1,tags:[],version:"current",frontMatter:{id:"error-summary",title:"Error summary",sidebar_label:"Error summary"},sidebar:"tutorialSidebar",previous:{title:"Date",permalink:"/pulsar/docs/forms/date"},next:{title:"Fieldset",permalink:"/pulsar/docs/forms/fieldset"}},m={},c=[{value:"Installation",id:"installation",level:2},{value:"Basic usage",id:"basic-usage",level:2},{value:"Helper options",id:"helper-options",level:2},{value:"Accessibility",id:"accessibility",level:2}],p={toc:c},d="wrapper";function y(e){let{components:r,...t}=e;return(0,n.yg)(d,(0,a.A)({},p,t,{components:r,mdxType:"MDXLayout"}),(0,n.yg)("p",null,"When form validation fails it is important to display a list of all errors near the top of the page and link to the affected fields. This summary is especially important for people using assistive technology to make sure their tools announce the presence of errors as soon as possible."),(0,n.yg)("div",{className:"d-example"},(0,n.yg)("form",{method:"POST",encType:"application/x-www-form-urlencoded",className:"form"},(0,n.yg)("section",{"aria-labelledby":"error-summary-title","data-error-summary":"true",tabIndex:"-1",className:"error-summary"},(0,n.yg)("h2",{className:"error-summary__title",id:"error-summary-title"},"There is a problem"),(0,n.yg)("ul",{className:"error-summary__list"},(0,n.yg)("li",{className:"error-summary__list-item"},(0,n.yg)("a",{className:"error-summary__list-link",href:"#first-name"},"Enter your first name")),(0,n.yg)("li",{className:"error-summary__list-item"},(0,n.yg)("a",{className:"error-summary__list-link",href:"#last-name"},"Enter your last name")))),(0,n.yg)("fieldset",null,(0,n.yg)("legend",{className:"legend"},"Example form with errors"),(0,n.yg)("div",{className:"form__group form__group--full has-error"},(0,n.yg)("label",{htmlFor:"first-name",className:"control__label"},"First name\xa0",(0,n.yg)("span",{className:"required-indicator","data-toggle":"tooltips",title:"","data-original-title":"required"},"*")),(0,n.yg)("div",{className:"controls"},(0,n.yg)("input",{id:"first-name",required:"","aria-required":"true",type:"text","aria-describedby":"guid-12478230","aria-invalid":"true",className:"form__control"}),(0,n.yg)("span",{className:"help-block is-error",id:"guid-12478230"},(0,n.yg)("i",{"aria-hidden":"true",className:"icon-warning-sign"})," Enter your first name"))),(0,n.yg)("div",{className:"form__group form__group--full has-error"},(0,n.yg)("label",{htmlFor:"last-name",className:"control__label"},"Last name\xa0",(0,n.yg)("span",{className:"required-indicator","data-toggle":"tooltips",title:"","data-original-title":"required"},"*")),(0,n.yg)("div",{className:"controls"},(0,n.yg)("input",{id:"last-name",required:"","aria-required":"true",type:"text","aria-describedby":"guid-482694121","aria-invalid":"true",className:"form__control"}),(0,n.yg)("span",{className:"help-block is-error",id:"guid-482694121"},(0,n.yg)("i",{"aria-hidden":"true",className:"icon-warning-sign"})," Enter your last name")))),(0,n.yg)("div",{className:"form__actions"},(0,n.yg)("button",{className:"btn btn--primary"},"Save"),(0,n.yg)("button",{className:"btn btn--naked"},"Cancel")))),(0,n.yg)("h2",{id:"installation"},"Installation"),(0,n.yg)("p",null,"This component requires the ",(0,n.yg)("inlineCode",{parentName:"p"},"ErrorSummaryComponent")," to be included in your Pulsar browserify bundle."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-jsx",metastring:'title="index.js"',title:'"index.js"'},"var ErrorSummaryComponent = require('/path/to/ErrorSummary/ErrorSummaryComponent');\n\nmodule.exports = {\n  ErrorSummaryComponent\n};\n")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-jsx",metastring:'title="main.js"',title:'"main.js"'},"(function ($) {\n  pulsar.errorSummary = new pulsar.ErrorSummaryComponent();\n\n  $(function () {\n    pulsar.errorSummary.init($html);\n  });\n}(jQuery));\n")),(0,n.yg)("p",null,"Finally, make sure the styles are being included into the Sass bundle."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-scss",metastring:'title="pulsar.scss"',title:'"pulsar.scss"'},"@import 'component.error-summary';\n")),(0,n.yg)("h2",{id:"basic-usage"},"Basic usage"),(0,n.yg)(l.A,{groupID:"example",defaultValue:"twig",values:[{label:"Twig",value:"twig"},{label:"React",value:"react"},{label:"HTML",value:"html"}],mdxType:"Tabs"},(0,n.yg)(o.A,{value:"twig",mdxType:"TabItem"},(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-twig"},"{{ form.create() }}\n\n{{\n  form.error_summary({\n    'heading': 'There is a problem',\n    'errors': [\n      {\n        'label': 'Enter your first name',\n        'href': 'first-name'\n      },\n      {\n        'label': 'Enter your last name',\n        'href': 'last-name'\n      }\n    ]\n  })\n}}\n\n{{ form.fieldset_start({'legend': 'Example form with errors'}) }}\n\n  {{\n    form.text({\n      'label': 'First name',\n      'id': 'first-name',\n      'required': true,\n      'error': 'Enter your first name'\n    })\n  }}\n\n  {{\n    form.text({\n      'label': 'Last name',\n      'id': 'last-name',\n      'required': true,\n      'error': 'Enter your last name'\n    })\n  }}\n\n{{ form.fieldset_end() }}\n\n{{\n  form.end({\n    'actions': [\n      html.button({\n        'label': 'Save',\n        'class': 'btn--primary'\n      }),\n      html.button({\n        'label': 'Cancel',\n        'class': 'btn--naked'\n      })\n    ]\n  })\n}}\n"))),(0,n.yg)(o.A,{value:"react",mdxType:"TabItem"},(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-jsx"},'<Form>\n  ...\n  <FormActions>\n    <Button type="submit" className="btn--primary">Primary Action</Button>\n    <Button type="link" href="/path/to/cancel" className="btn--naked">Cancel</Button>\n  </FormActions>\n</Form>\n'))),(0,n.yg)(o.A,{value:"html",mdxType:"TabItem"},(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-html"},'<form method="POST" enctype="application/x-www-form-urlencoded" class="form">\n  ...\n  <div class="form__actions">\n    <button type="submit" class="btn btn--primary">Primary Action</button>\n    <a href="/home" class="btn btn--naked">Cancel</a>\n  </div>\n</form>\n')))),(0,n.yg)("h2",{id:"helper-options"},"Helper options"),(0,n.yg)("p",null,"You can configure this helper using the common helper options, the following options are specific to this helper."),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Option"),(0,n.yg)("th",{parentName:"tr",align:null},"Type"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"heading"),(0,n.yg)("td",{parentName:"tr",align:null},"string"),(0,n.yg)("td",{parentName:"tr",align:null},'The text to be used as the error summary heading. This should always be "There is a problem".')),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"errors"),(0,n.yg)("td",{parentName:"tr",align:null},"array"),(0,n.yg)("td",{parentName:"tr",align:null},"An array of objects representing inputs with errors. Each object should contain the error text displayed under the input and the ID attribute of the input.")))),(0,n.yg)("h2",{id:"accessibility"},"Accessibility"),(0,n.yg)("p",null,"Refer to the ",(0,n.yg)("a",{parentName:"p",href:"http://accessibility-guide.ntn.jadu.net/components/error-summary/"},"Jadu Accessibility Guidelines (internal)")," for detailed guidance on the accessibility requirements of this component."))}y.isMDXComponent=!0}}]);