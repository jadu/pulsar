"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3100],{9916:(e,t,n)=>{n.d(t,{xA:()=>u,yg:()=>p});var a=n(3696);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),c=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(o.Provider,{value:t},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,p=d["".concat(o,".").concat(m)]||d[m]||h[m]||i;return n?a.createElement(p,s(s({ref:t},u),{},{components:n})):a.createElement(p,s({ref:t},u))}));function p(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,s=new Array(i);s[0]=m;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l[d]="string"==typeof e?e:r,s[1]=l;for(var c=2;c<i;c++)s[c]=n[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5589:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(3696),r=n(8017);const i={tabItem:"tabItem_wHwb"};function s(e){let{children:t,hidden:n,className:s}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.A)(i.tabItem,s),hidden:n},t)}},2752:(e,t,n)=>{n.d(t,{A:()=>k});var a=n(8102),r=n(3696),i=n(8017),s=n(766),l=n(9519),o=n(5043),c=n(4544),u=n(8708);function d(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??d(n);return function(e){const t=(0,c.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function p(e){let{queryString:t=!1,groupId:n}=e;const a=(0,l.W6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,o.aZ)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(a.location.search);t.set(i,e),a.replace({...a.location,search:t.toString()})}),[i,a])]}function g(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,i=h(e),[s,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:i}))),[o,c]=p({queryString:n,groupId:a}),[d,g]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,i]=(0,u.Dv)(n);return[a,(0,r.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:a}),b=(()=>{const e=o??d;return m({value:e,tabValues:i})?e:null})();(0,r.useLayoutEffect)((()=>{b&&l(b)}),[b]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),c(e),g(e)}),[c,g,i]),tabValues:i}}var b=n(6681);const f={tabList:"tabList_J5MA",tabItem:"tabItem_l0OV"};function w(e){let{className:t,block:n,selectedValue:l,selectValue:o,tabValues:c}=e;const u=[],{blockElementScrollPositionUntilNextRender:d}=(0,s.a_)(),h=e=>{const t=e.currentTarget,n=u.indexOf(t),a=c[n].value;a!==l&&(d(t),o(a))},m=e=>{let t=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{const n=u.indexOf(e.currentTarget)+1;t=u[n]??u[0];break}case"ArrowLeft":{const n=u.indexOf(e.currentTarget)-1;t=u[n]??u[u.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},t)},c.map((e=>{let{value:t,label:n,attributes:s}=e;return r.createElement("li",(0,a.A)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>u.push(e),onKeyDown:m,onClick:h},s,{className:(0,i.A)("tabs__item",f.tabItem,s?.className,{"tabs__item--active":l===t})}),n??t)})))}function y(e){let{lazy:t,children:n,selectedValue:a}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function v(e){const t=g(e);return r.createElement("div",{className:(0,i.A)("tabs-container",f.tabList)},r.createElement(w,(0,a.A)({},e,t)),r.createElement(y,(0,a.A)({},e,t)))}function k(e){const t=(0,b.A)();return r.createElement(v,(0,a.A)({key:String(t)},e))}},6886:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var a=n(8102),r=(n(3696),n(9916));n(2752),n(5589);const i={id:"masterswitch",title:"Masterswitch",sidebar_label:"Masterswitch"},s=void 0,l={unversionedId:"patterns/masterswitch",id:"patterns/masterswitch",title:"Masterswitch",description:"The masterswitch pattern allows you to enable and disable a larger UI with a single control. Commonly used in \u2018settings\u2019 interfaces it provides an easy to understand on/off switch for users.",source:"@site/docs/patterns/masterswitch.mdx",sourceDirName:"patterns",slug:"/patterns/masterswitch",permalink:"/pulsar/docs/patterns/masterswitch",draft:!1,tags:[],version:"current",frontMatter:{id:"masterswitch",title:"Masterswitch",sidebar_label:"Masterswitch"},sidebar:"tutorialSidebar",previous:{title:"Integrations",permalink:"/pulsar/docs/patterns/integrations"},next:{title:"No results",permalink:"/pulsar/docs/patterns/no-results"}},o={},c=[{value:"Dependencies",id:"dependencies",level:2},{value:"Basic usage",id:"basic-usage",level:2},{value:"Setting initial state",id:"setting-initial-state",level:2},{value:"Load with the masterswitch enabled",id:"load-with-the-masterswitch-enabled",level:3},{value:"Load with the masterswitch disabled",id:"load-with-the-masterswitch-disabled",level:3},{value:"Switching on",id:"switching-on",level:2},{value:"Switching off",id:"switching-off",level:2}],u={toc:c},d="wrapper";function h(e){let{components:t,...i}=e;return(0,r.yg)(d,(0,a.A)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"The masterswitch pattern allows you to enable and disable a larger UI with a single control. Commonly used in \u2018settings\u2019 interfaces it provides an easy to understand on/off switch for users."),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"Screenshot showing masterswitch example",src:n(3011).A,width:"900",height:"600"})),(0,r.yg)("h2",{id:"dependencies"},"Dependencies"),(0,r.yg)("p",null,"You will need the ",(0,r.yg)("inlineCode",{parentName:"p"},"DisableUiComponent")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"MasterSwitchComponent")," included in your browserify configuration."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js",metastring:'title="index.js"',title:'"index.js"'},"var DisableUiComponent = require('/path/to/pulsar/DisableUiComponent'),\n    MasterSwitchComponent = require('/path/to/pulsar/MasterSwitchComponent');\n\nmodule.exports = {\n  DisableUiComponent,\n  MasterSwitchComponent\n}\n")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js",metastring:'title="main.js"',title:'"main.js"'},"var $html = $('html');\n\npulsar.disableUi = new pulsar.DisableUIComponent($html);\npulsar.masterSwitch = new pulsar.MasterSwitchComponent($html, pulsar.disableUi);\n\n$(function () {\n  pulsar.disableUi.init();\n  pulsar.masterSwitch.init();\n});\n")),(0,r.yg)("h2",{id:"basic-usage"},"Basic usage"),(0,r.yg)("admonition",{type:"warning"},(0,r.yg)("p",{parentName:"admonition"},"There should only be one masterswitch within a given UI, although there could be multiple masterswitches on different tabs.")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-twig"},"<div class=\"masterswitch\">\n  {{\n    form.toggle_switch({\n      'class': 'masterswitch-control',\n      'label': 'Your label',\n      'id': 'toggletest',\n      'name': 'toggletest'\n    })\n  }}\n\n  <hr />\n\n  <section class=\"masterswitch-content is-disabled\">\n    {{ form.create() }}\n    {{\n      form.text({\n        'label': 'An input',\n        'id': 'master-input',\n        'name': 'master-input'\n      })\n    }}\n    {{\n      form.end({\n        'actions': [\n          form.submit({\n            'class': 'btn--primary',\n            'label': 'Primary Action'\n          }),\n          html.button({\n            'class': 'btn--naked',\n            'type': 'link',\n            'label': 'Cancel',\n            'href': '/home'\n          })\n        ]\n      })\n    }}\n  </section>\n</div>\n")),(0,r.yg)("h2",{id:"setting-initial-state"},"Setting initial state"),(0,r.yg)("p",null,"You can tell the UI to be enabled or disabled on page load by setting the ",(0,r.yg)("inlineCode",{parentName:"p"},"checked")," attribute on the toggle switch. This will affect both the masterswitch control and the masterswitch content."),(0,r.yg)("h3",{id:"load-with-the-masterswitch-enabled"},"Load with the masterswitch enabled"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-twig",metastring:"{3}","{3}":!0},"{{\n  form.toggle_switch({\n    'checked': true,\n    'class': 'masterswitch-control',\n    'label': 'Your label',\n    'id': 'toggletest',\n    'name': 'toggletest'\n  })\n}}\n")),(0,r.yg)("h3",{id:"load-with-the-masterswitch-disabled"},"Load with the masterswitch disabled"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-twig"},"{{\n  form.toggle_switch({\n    'class': 'masterswitch-control',\n    'label': 'Your label',\n    'id': 'toggletest',\n    'name': 'toggletest'\n  })\n}}\n")),(0,r.yg)("h2",{id:"switching-on"},"Switching on"),(0,r.yg)("p",null,"Toggling the masterswitch will enable any interactive elements (like form fields and links) within the related masterswitch content block. The majority of time this will be by the user clicking the masterswitch control."),(0,r.yg)("h2",{id:"switching-off"},"Switching off"),(0,r.yg)("p",null,"Switching off the masterswitch should immediately disable the relevant settings for the user without the need for a page refresh or clicking a confirmation button."),(0,r.yg)("p",null,"Any inputs inside the ",(0,r.yg)("inlineCode",{parentName:"p"},"masterswitch-content")," should not be cleared, it should be possible for a user to restore their original settings by switching the masterswitch back on."),(0,r.yg)("p",null,"Clickable elements inside ",(0,r.yg)("inlineCode",{parentName:"p"},"masterswitch-content")," should be disabled when the masterswitch is switched off, a user should not be able to interact with the disabled UI."),(0,r.yg)("p",null,"There may be situations where you require the user to confirm their choice to switch off a masterswitch, an example is the two-step verification UI where we need to warn the user that this will make their account less secure, and prompts them to re-enter their password and verification code."))}h.isMDXComponent=!0},3011:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/masterswitch-cb2a7014d8be23ed5b0442507541d4d8.png"}}]);