// scss-lint:disable UrlFormat

.signin-backdrop {
	background: #fff;
	background-image: url('https://images.unsplash.com/photo-1589732560035-eb0c20e2a9ed?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1780&q=80');
	// background: $signin-gradient;
	background-attachment: fixed;
	background-position: center bottom;
	background-repeat: no-repeat;
	background-size: cover;
	bottom: 0;
	left: 0;
	position: fixed;
	right: 0;
	top: 0;
}

.signin-brand {
	bottom: 0;
	display: block;
	position: absolute;
	text-align: center;
	width: $signin-mobile-width;

	@include respond-min($screen-tablet) {
		width: $signin-full-width;
	}

	> img {
		filter: brightness(0);
		width: 200px;
	}
}

.signin-container {
	display: flex;
	height: 100%;
}

.signin {
	background-color: $signin-bg-color;
	box-shadow: 0 0 0 10px rgb(0 0 0 / 20%);
	overflow: hidden;
	padding: $padding-base * 4;
	width: $signin-mobile-width;

	@include respond-min($screen-tablet) {
		width: $signin-full-width;
	}

	&--error {
		animation: shake 400ms ease-in-out;

		.loading--circle i {
			border: 1px solid rgba(0, 0, 0, .2);
			border-top-color: color(white);
		}
	}
}

.signin__inner {
	float: left;
	margin-top: 20%;
	transition: background-color .5s, margin-left .25s;
	width: $signin-full-width * 4;

	@include respond-min($screen-tablet) {
		margin-top: 50%;
		width: $signin-mobile-width * 4 + 400;
	}

	.active-reset & {
		position: relative;
		margin-left: -$signin-mobile-width + 40;

		@include respond-min($screen-tablet) {
			margin-left: -$signin-full-width + 40;
		}
	}

	.active-forgot & {
		position: relative;
		margin-left: -($signin-mobile-width * 2) + 80;

		@include respond-min($screen-tablet) {
			margin-left: -($signin-full-width * 2) + 80;
		}
	}

	.active-twostep & {
		.signin-form,
		.signin-reset {
			opacity: 0;
			visibility: hidden;
			z-index: -1;
		}

		.signin-twostep {
			opacity: 1;
			z-index: 1;
		}
	}

	.active-success & {
		.signin-form,
		.signin-reset,
		.signin-twostep {
			opacity: 0;
			visibility: hidden;
			z-index: -1;
		}

		.signin-success {
			opacity: 1;
			z-index: 1;
		}
	}

}

.signin__panel {
	border-bottom: 1px solid #ccc;
	border-top: 1px solid #ccc;
	float: left;
	margin-right: 40px;
	padding: 0 0 2.5em;
	transition: opacity .5s, z-index .5s;
	width: 320px;

	@include respond-min($screen-tablet) {
		width: 420px;
	}
}

.signin__input {
	background-color: none;
	border: 2px solid color(black);
	display: inline-block;
	margin: 0 auto 1em;
	padding: 10px;
	width: 100%;
}

.signin__code1,
.signin__code2 {
	@extend .signin__input;
	display: inline-block;
	font-family: courier;
	letter-spacing: 5px;
	margin: 0 5px 1em 0;
	padding: 10px 10px 10px 12px;
	width: 81px;

	@include respond-min($screen-tablet) {
		padding: 10px 10px 10px 20px;
	}
}

.signin__action {
	display: block;
	margin: 0 0 1em;
	width: 100%;
}

.signin__submit {
	display: inline-block;
	margin: 0 auto;
	width: 40%;
}

.signin__action-separator {
	display: inline-block;
	text-align: center;
	width: 18%;
}

.signin__heading {
	font-family: $font-family-heading;
	text-align: center;
}

.signin__info {
	display: block;
	font-size: $font-size-base;
	line-height: $line-height-base;
	margin-bottom: 2em;
}

.signin__link {
	display: block;
	margin-top: .5em;
}

.signin__hint {
	// @include icon-FontAwesome();
	animation-duration: 1s;
	animation-fill-mode: both;
	animation-iteration-count: infinite;
	animation-name: hint-wobble;
	display: inline-block;
	font-size: 1.5em;
	left: 5px;
	position: absolute;
	width: 25px;
	top: 2px;

	@include respond-min($screen-tablet) {
		left: 12px;
		top: 32px;
	}

	&::before {
		content: '\f0a4';
		font-family: 'Font Awesome 5 Free';
		font-style: normal;
	}

	.signin-twostep & {
		left: 55px;

		@include respond-min($screen-tablet) {
			left: 85px;
		}
	}

	.signin__code2 + & {
		left: inherit;
		right: 50px;

		@include respond-min($screen-tablet) {
			left: inherit;
			right: 80px;
		}

		&::before {
			content: '\f0a5';
			font-family: 'Font Awesome 5 Free';
			font-style: normal;
		}
	}
}

.shake {
  animation: shake 500ms ease-in-out;
}

.signin__icon {
	display: inline-block;
	margin: 20px auto 0;
	text-align: center;
	width: 100%;

	.signin--error &,
	.signin-reset &,
	.signin-forgot &,
	.signin-twostep &,
	.signin-success & {
		background-image: none;
		line-height: 65px;
		margin-bottom: 6px;
	}

	.signin-reset &,
	.signin-forgot &,
	.signin-twostep &,
	.signin-success & {
		&::before {
			color: color(grey, light);
			display: inline-block;
			width: 66px;
		}
	}

	.signin--error &::before {
		content: '\f06a';
		color: color(danger);
		font-family: 'Font Awesome 5 Free';
		font-size: 75px;
		font-style: normal;
		font-weight: 600;
	}

	.signin-twostep &::before {
		content: '\f502';
		font-family: 'Font Awesome 5 Free';
		font-size: 65px;
		font-style: normal;
		font-weight: 600;

		.signin--error & {
			color: color(danger);
		}
	}

	.signin-forgot &::before {
		content: '\f059';
		font-family: 'Font Awesome 5 Free';
		font-size: 65px;
		font-style: normal;
		width: 40px;
		margin-left: -2px;
	}

	.signin-reset & {
		&::before {
			content: '\f658';
			display: inline-block;
			font-family: 'Font Awesome 5 Free';
			font-size: 65px;
			font-style: normal;
			font-weight: 600;
		}
	}

	.active-success .signin-success & {
		animation-duration: 1s;
		animation-fill-mode: both;
		animation-name: success-icon;

		&::before {
			content: '\f058';
			color: color(success);
			font-family: 'Font Awesome 5 Free';
			font-size: 100px;
			font-style: normal;
			width: 100px;
		}
	}
}

.signin-twostep label {
	display: none;
}

.signin-twostep,
.signin-success {
	opacity: 0;
	position: absolute;
	top: 20%;
	left: 40px;
	z-index: -1;

	.signin__group {
		margin-top: 1.5em;
	}
}

// 2FA code input in control centre UI
.form__group .controls,
.modal {
	.form__control.signin__code1,
	.form__control.signin__code2 {
		display: inline-block;
		font-family: courier;
		letter-spacing: 2px;
		padding: 0 10px;
		width: 55px;
	}
}

.signin-credits {
	bottom: 10px;
	color: #fff;
	font-size: $font-size-small;
	position: absolute;
	right: 10px;

	a {
		color: #fff;
	}

	a:focus {
		color: #000;
	}
}

// Scale effect is disabled in Firefox because of horrible performance issues
@keyframes success-icon {
	0% {
		transform: translateY(0) scale(1);
	}

	50% {
		transform: translateY(160%) scale(2);
	}

	100% {
		-moz-transform: translateY(160%) scale(1);
		transform: translateY(160%) scale(1.5);
	}
}

@keyframes hint-wobble {
	0%, 50%, 100% {
		transform: translateX(0);
	}

	25%, 75% {
		transform: translateX(-5px);
	}
}

@keyframes shake {
	0% {
		transform: translateX(0);
	}

	12.5% {
		transform: translateX(-10px) rotateY(-5deg);
	}

	37.5% {
		transform: translateX(10px) rotateY(4deg);
	}

	62.5% {
		transform: translateX(-5px) rotateY(-2deg);
	}

	87.5% {
		transform: translateX(5px) rotateY(1deg);
	}

	100% {
		transform: translateX(0);
	}
}

@keyframes fade-in {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

[id="recaptcha_widget_div"] {
	display: inline-block;
	margin: 0 auto 1em;
}

// scss-lint:enable UrlFormat
